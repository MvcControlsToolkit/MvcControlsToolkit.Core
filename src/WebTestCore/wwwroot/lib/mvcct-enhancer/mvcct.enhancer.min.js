(function(){(function(v){var r=this||(0,eval)("this");(function(l){if("function"===typeof define&&define.amd)define(["exports","require"],l);else if("object"===typeof exports&&"object"===typeof module)l(module.exports||exports);else{var q=r.mvcct=r.mvcct||{};l(q.enhancer={})}})(function(l){function q(c){for(var b=0;b<g.length;b++){var d=g[b];if(d.b)try{d.b(c,d)}catch(h){alert(h+". "+d.name)}}for(b=0;b<g.length;b++)if(d=g[b],d.c)try{d.c(c,d)}catch(h){alert(h+". "+d.name)}for(var f=[],b=0;b<g.length;b++)if(d=
g[b],d.a&&(!d.g||c.o))try{d.transform?(d.transform(document.querySelector("body"),!0),f.push(d)):d.a(document.querySelector("body"))}catch(h){alert(h+". "+d.name)}g=f}var e="undefined"!==typeof l?l:{},g=[],w=!1,t=null,x=null,n=r.jQuery;n&&(x=n.fn.ready,n.fn.ready=function(c){g.push({transform:null,a:c,c:null,name:"document.ready: "+c.constructor.name,b:null,g:!0})});e.init=function(c){c=c||{};n?(n.fn.ready=x,n(document).ready(function(){q(c)})):q(c)};e.asyncReady=function(){t&&e.init(t);w=!0};e.waitAsync=
function(c){w&&e.init(c);t=c||{}};e.register=function(c,b,d,f,h,e){g.push({transform:c,a:b,c:d,name:f,b:h,type:e})};e.transform=function(c,b){for(var d=0;d<g.length;d++){var f=g[d];if((!b||b[f.type||"default"])&&f.transform)try{f.transform(c,!1)}catch(h){alert(h+". "+f.name)}}};e.dependency=function(c,b,d,f,h){function e(){var d=document.createEvent("Event");d.initEvent("_enhancer.dependency."+c,!1,!0);b.dispatchEvent(d)}function g(){if(!b.getAttribute("data-enhancer-dependency"))try{b.setAttribute("data-enhancer-dependency",
"true");h(d,b);var f=document.createEvent("Event");f.initEvent("_enhancer.dependency."+c,!1,!0);d.dispatchEvent(f)}finally{b.setAttribute("data-enhancer-dependency","")}}b.addEventListener("_enhancer.dependency."+c,g);for(var l=0;l<f.length;l++)b.addEventListener(f[l],e);return{h:g,j:e,name:"_enhancer.dependency."+c,f:f,node:b}};e.removeDependency=function(c){for(var b=c.f,d=0;d<b.length;d++)c.i.removeEventListener(b[d],c.j);c.i.removeEventListener(c.name,c.h)};(function(c){function b(a){try{var k=
document.createElement("input");k.setAttribute("type",a);return k.type===a?(k.setAttribute("value","1illegal"),"1illegal"===k.value):!0}catch(b){return!0}}function d(a,k,b){for(var c in k){var d=k[c],d="boolean"===typeof d?d?"True":"False":""+d;k.hasOwnProperty(c)&&b.push({Key:a?a+"."+c:c,Value:d})}}function f(a){var k=[];d("Html5InputSupport",r.Html5InputSupport,k);d("Html5InputOriginalSupport",r.Html5InputOriginalSupport,k);a.addToSupport&&"object"===typeof a.addToSupport&&d("",a.addToSupport,k);
a=JSON.stringify(k);if(p.forms)for(var k=document.querySelectorAll("form"),c=0;c<k.length;c++){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",p.forms);b.setAttribute("value",a);k[c].appendChild(b)}p.cookie&&(document.cookie=p.cookie+"="+encodeURIComponent(a)+"; path=/")}function e(a){a=a||{};p={fallbackHtml5:a.fallbackHtml5===v?!1:a.fallbackHtml5,cookie:a.cookie===v?t.cookie:a.cookie,forms:a.forms===v?t.forms:a.forms,fallbacks:a.fallbacks||{},handlers:{}};
p.handlers.replace=a.handlers&&a.handlers.replace?a.handlers.replace:function(a,b){return"number"==a||"date"==a||"datetime-local"==a||"month"==a||"time"==a||"week"==a||"color"==a?"text":"range"==a?2<b.m||4>b.l?"text":"number":a};p.handlers.translateVal=a.handlers&&a.handlers.translateVal?a.handlers.translateVal:function(a){return a};m=p.handlers;m.fullReplace=a&&a.handlers?a.handlers.fullReplace:null;m.enhance=a&&a.handlers?a.handlers.enhance:{};f(a)}function g(a,b,c,d){if(!a)return a;a=a.trim();
if(!a)return a;a=b(a);b=-a.getTimezoneOffset();d&&(d.off=b);return c(new Date(a.getTime()+6E4*b))}function l(a){a=a.target;var b=c.parse("datetime",a.value);b&&(a.nextElementSibling.value=-b.getTimezoneOffset())}function n(a,b,c){var d=a.getAttribute("type"),f="datetime-local"==d?"datetime":d,e=!1;"datetime"==f&&b&&c&&a.getAttribute("data-is-utc")&&(e={off:0},a.value=g(a.value,b,c,e),a.setAttribute("value",a.value),a.nextElementSibling.value=e.off,(e=a.getAttribute("min"))&&a.setAttribute("min",g(e,
b,c)),(e=a.getAttribute("data-val-range-min"))&&a.setAttribute("data-val-range-min",g(e,b,c)),(e=a.getAttribute("max"))&&a.setAttribute("max",g(e,b,c)),(e=a.getAttribute("data-val-range-max"))&&a.setAttribute("data-val-range-max",g(e,b,c)),e=!0);if(3<u[f])e&&a.addEventListener("blur",l);else if(c=m.replace(d,u),c!=d)if(m.fullReplace)m.fullReplace(a);else{b=document.createElement("input");b.setAttribute("type",c);b.setAttribute("value",m.translateVal(a.getAttribute("value"),f,c));for(c=0;c<a.attributes.length;c++){var h=
a.attributes[c].name;"min"!==h&&"max"!==h&&"step"!=h&&"type"!==h&&"value"!==h&&b.setAttribute(h,a.attributes[c].value)}b.setAttribute("data-original-type",d);"range"==d&&b.setAttribute("data-is-range","true");a.parentNode.replaceChild(b,a);e&&b.addEventListener("blur",l);if(m.enhance&&m.enhance[f])m.enhance[f](b,a)}}var q={number:!b("number"),range:!b("range"),date:!b("date"),month:!b("month"),week:!b("week"),time:!b("time"),datetime:!b("datetime-local"),email:!b("email"),search:!b("search"),tel:!b("tel"),
url:!b("url"),color:!b("color")},u={clientTimeZoneOffset:(new Date).getTimezoneOffset()},r={Html5InputOriginalSupport:q,Html5InputSupport:u},p=null,t={cookie:"_browser_basic_capabilities",forms:null},m=null;c.getSupport=function(){return r};c.register(null,!1,function(a){a=a||{};a=a.browserSupport.fallbacks;for(var b in q){var c=a[b];u[b]=!q[b]||c&&c.force?c?c.type:1:4}},"html5 support");c.register(function(a){if(p.fallbackHtml5){var b=c.parse,d=c.format;d&&b&&(d=function(a){return c.format("datetime",
a,!0)},b=function(a){return c.parse("datetime",a,!0)});if("INPUT"==a.tagName)n(a,b,d);else{a=a.querySelectorAll("input");for(var e=0;e<a.length;e++)n(a[e],b,d)}}},!0,function(a){a=a||{};e(a.browserSupport)},"html5 enhance")})(e)})})()})();
