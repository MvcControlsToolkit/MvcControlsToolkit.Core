(function(){(function(w){var p=this||(0,eval)("this");(function(k){if("function"===typeof define&&define.amd)define(["exports","require"],k);else if("object"===typeof exports&&"object"===typeof module)k(module.exports||exports);else{var q=p.mvcct=p.mvcct||{};k(q.enhancer={})}})(function(k){function q(c){for(var b=0;b<e.length;b++){var d=e[b];if(d.b)try{d.b(c,d)}catch(r){alert(r+". "+d.name)}}for(b=0;b<e.length;b++)if(d=e[b],d.c)try{d.c(c,d)}catch(r){alert(r+". "+d.name)}for(var g=[],b=0;b<e.length;b++)if(d=
e[b],d.a&&(!d.g||c.o))try{d.transform?(d.transform(document.querySelector("body"),!0),g.push(d)):d.a(document.querySelector("body"))}catch(r){alert(r+". "+d.name)}e=g}var f="undefined"!==typeof k?k:{},e=[],u=!1,t=null,x=null,h=p.jQuery;h&&(x=h.fn.ready,h.fn.ready=function(c){e.push({transform:null,a:c,c:null,name:"document.ready: "+c.constructor.name,b:null,g:!0})});f.init=function(c){c=c||{};h?(h.fn.ready=x,h(document).ready(function(){q(c)})):q(c)};f.asyncReady=function(){t&&f.init(t);u=!0};f.waitAsync=
function(c){u&&f.init(c);t=c||{}};f.register=function(c,b,d,g,r){e.push({transform:c,a:b,c:d,name:g,b:r})};f.transform=function(c){for(var b=0;b<e.length;b++){var d=e[b];if(d.transform)try{d.transform(c,!1)}catch(g){alert(g+". "+d.name)}}};f.dependency=function(c,b,d,g,e){function f(){var d=document.createEvent("Event");d.initEvent("_enhancer.dependency."+c,!1,!0);b.dispatchEvent(d)}function k(){if(!b.getAttribute("data-enhancer-dependency"))try{b.setAttribute("data-enhancer-dependency","true");e(d,
b);var f=document.createEvent("Event");f.initEvent("_enhancer.dependency."+c,!1,!0);d.dispatchEvent(f)}finally{b.setAttribute("data-enhancer-dependency","")}}b.addEventListener("_enhancer.dependency."+c,k);for(var h=0;h<g.length;h++)b.addEventListener(g[h],f);return{h:k,j:f,name:"_enhancer.dependency."+c,f:g,node:b}};f.removeDependency=function(c){for(var b=c.f,d=0;d<b.length;d++)c.i.removeEventListener(b[d],c.j);c.i.removeEventListener(c.name,c.h)};(function(c){function b(a){try{var l=document.createElement("input");
l.setAttribute("type",a);return l.type===a?(l.setAttribute("value","1illegal"),"1illegal"===l.value):!0}catch(b){return!0}}function d(a,l,b){for(var c in l){var d=l[c],d="boolean"===typeof d?d?"True":"False":""+d;l.hasOwnProperty(c)&&b.push({Key:a?a+"."+c:c,Value:d})}}function f(){var a=[];d("Html5InputSupport",t.Html5InputSupport,a);d("Html5InputOriginalSupport",t.Html5InputOriginalSupport,a);a=JSON.stringify(a);if(n.forms)for(var l=document.querySelectorAll("form"),b=0;b<l.length;b++){var c=document.createElement("input");
c.setAttribute("type","hidden");c.setAttribute("name",n.forms);c.setAttribute("value",a);l[b].appendChild(c)}n.cookie&&(document.cookie=n.cookie+"="+encodeURIComponent(a)+"; path=/")}function e(a){a=a||{};n={fallbackHtml5:a.fallbackHtml5===w?!1:a.fallbackHtml5,cookie:a.cookie===w?u.cookie:a.cookie,forms:a.forms===w?u.forms:a.forms,fallbacks:a.fallbacks||{},handlers:{}};n.handlers.replace=a.handlers&&a.handlers.replace?a.handlers.replace:function(a,c){return"number"==a||"date"==a||"datetime-local"==
a||"month"==a||"time"==a||"week"==a||"color"==a?"text":"range"==a?2<c.m||4>c.l?"text":"number":a};n.handlers.translateVal=a.handlers&&a.handlers.translateVal?a.handlers.translateVal:function(a){return a};m=n.handlers;m.fullReplace=a&&a.handlers?a.handlers.fullReplace:null;m.enhance=a&&a.handlers?a.handlers.enhance:{};f()}function h(a,c,b,d){if(!a)return a;a=a.trim();if(!a)return a;a=c(a);c=-a.getTimezoneOffset();d&&(d.off=c);return b(new Date(a.getTime()+6E4*c))}function k(a){a=a.target;var b=c.parse("datetime",
a.value);b&&(a.nextElementSibling.value=-b.getTimezoneOffset())}function q(a,c,b){var d=a.getAttribute("type"),f="datetime-local"==d?"datetime":d,e=!1;"datetime"==f&&c&&b&&a.getAttribute("data-is-utc")&&(e={off:0},a.value=h(a.value,c,b,e),a.setAttribute("value",a.value),a.nextElementSibling.value=e.off,(e=a.getAttribute("min"))&&a.setAttribute("min",h(e,c,b)),(e=a.getAttribute("data-val-range-min"))&&a.setAttribute("data-val-range-min",h(e,c,b)),(e=a.getAttribute("max"))&&a.setAttribute("max",h(e,
c,b)),(e=a.getAttribute("data-val-range-max"))&&a.setAttribute("data-val-range-max",h(e,c,b)),e=!0);if(3<v[f])e&&a.addEventListener("blur",k);else if(b=m.replace(d,v),b!=d)if(m.fullReplace)m.fullReplace(a);else{c=document.createElement("input");c.setAttribute("type",b);c.setAttribute("value",m.translateVal(a.getAttribute("value"),f,b));c.setAttribute("data-original-type",d);for(b=0;b<a.attributes.length;b++){var g=a.attributes[b].name;"min"!==g&&"max"!==g&&"step"!=g&&"type"!==g&&"value"!==g&&c.setAttribute(g,
a.attributes[b].value)}"range"==d&&c.setAttribute("data-is-range","true");a.parentNode.replaceChild(c,a);e&&c.addEventListener("blur",k);if(m.enhance&&m.enhance[f])m.enhance[f](c,a)}}var p={number:!b("number"),range:!b("range"),date:!b("date"),month:!b("month"),week:!b("week"),time:!b("time"),datetime:!b("datetime-local"),email:!b("email"),search:!b("search"),tel:!b("tel"),url:!b("url"),color:!b("color")},v={clientTimeZoneOffset:(new Date).getTimezoneOffset()},t={Html5InputOriginalSupport:p,Html5InputSupport:v},
n=null,u={cookie:"_browser_basic_capabilities",forms:null},m=null;c.getSupport=function(){return t};c.register(null,!1,function(a){a=a||{};a=a.browserSupport.fallbacks;for(var c in p){var b=a[c];v[c]=!p[c]||b&&b.force?b?b.type:1:4}},"html5 support");c.register(function(a){if(n.fallbackHtml5){var b=c.parse,d=c.format;d&&b&&(d=function(a){return c.format("datetime",a,!0)},b=function(a){return c.parse("datetime",a,!0)});if("INPUT"==a.tagName)q(a,b,d);else{a=a.querySelectorAll("input");for(var e=0;e<
a.length;e++)q(a[e],b,d)}}},!0,function(a){a=a||{};e(a.browserSupport)},"html5 enhance")})(f)})})()})();
